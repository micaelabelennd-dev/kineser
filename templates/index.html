<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sistema de Gesti贸n de Ejercicios</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>
<body>
  <div id="logoContainer" style="text-align: center; margin-bottom: 30px;">
    <!-- Reemplace la siguiente l铆nea con su logo -->
    <!-- Opci贸n 1: Si tiene un archivo de imagen, use: -->
   <img src="{{ url_for('static', filename='kineser-logo.jpeg') }}" alt="Logo del Consultorio" style="max-width: 300px; max-height: 150px; object-fit: contain;" /> 
    
    <!-- Opci贸n 2: Si prefiere texto estilizado temporalmente: -->
    <!--<h1 style="margin: 0; padding: 0;">Sistema de Gesti贸n de Ejercicios</h1>
    <p style="color: #666; font-size: 0.9em; margin-top: 5px;">Consultorio de Kinesiolog铆a</p> -->
  </div>

  <div id="registro">
    <h2>Login</h2>
    <label for="tipoUsuario" style="display: block; margin-bottom: 5px; font-weight: bold;">Tipo de usuario:</label>
    <select id="tipoUsuario" onchange="cambiarTipoUsuario()">
      <option value="kinesiologa">Kinesi贸loga</option>
      <option value="paciente">Paciente</option>
    </select>
    
    <label for="nombreUsuario" style="display: block; margin-top: 15px; margin-bottom: 5px; font-weight: bold;">Nombre:</label>
    <input type="text" id="nombreUsuario" placeholder="Ingrese su nombre" required />
    
    <div id="passwordContainer" style="display: block;">
      <label for="passwordUsuario" style="display: block; margin-top: 15px; margin-bottom: 5px; font-weight: bold;">Contrase帽a: <span style="color: #d32f2f;">*</span></label>
      <input type="password" id="passwordUsuario" placeholder="Elija su contrase帽a (m铆nimo 4 caracteres)" required />
      <small style="color: #666; display: block; margin-top: 5px;">
        <strong>Usted elige su propia contrase帽a.</strong> Debe tener al menos 4 caracteres. Gu谩rdela en un lugar seguro.
      </small>
    </div>
    
    <div id="loginButtons" style="margin-top: 20px;">
      <button onclick="iniciarSesion()" type="button">Iniciar Sesi贸n</button>
      <button onclick="registrarUsuario()" id="btnRegistrar" type="button" style="display: inline-block;">Registrar Nueva Kinesi贸loga</button>
    </div>
    <p id="mensajeInfo" style="font-size: 0.9em; color: #666; margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 4px;"></p>
  </div>

  <div id="kinesiologaPanel" style="display:none;">
    <button id="volverKinesiologa" onclick="volverAlInicio()">Volver</button>
    <h2>Panel Kinesi贸loga</h2>
    <p style="color: #666; margin-bottom: 20px;">Bienvenida, <strong id="nombreKinesiologa"></strong>. Desde aqu铆 puedes gestionar pacientes y ejercicios.</p>
    
    <!-- ABM de pacientes -->
    <div class="card">
      <h3>Gesti贸n de Pacientes</h3>
      <div>
        <input type="text" id="nuevoPacienteNombre" placeholder="Nombre del paciente" />
        <button onclick="agregarPaciente()">Agregar paciente</button>
      </div>
      <h4 style="margin-top: 15px;">Lista de pacientes:</h4>
      <ul id="listaPacientesGestion"></ul>
    </div>
    
    <!-- Seleccionar paciente para gestionar -->
    <div class="card" style="margin-top: 20px;">
      <h3>Gestionar Ejercicios de Paciente</h3>
      <label>Seleccionar paciente:</label>
      <select id="listaPacientes"></select>
      <button onclick="abrirGestionPaciente()" style="margin-top: 10px;">Gestionar ejercicios</button>
    </div>
    
    <!-- Resumen de plantillas -->
    <div class="card" style="margin-top: 20px;">
      <h3>Mis Plantillas de Ejercicios</h3>
      <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">Gestione todas sus plantillas de ejercicios desde un solo lugar.</p>
      <button onclick="abrirGestionPlantillas()" class="btn" style="background-color: #00796b;">Gestionar Plantillas</button>
      <ul id="listaPlantillasGestion" style="margin-top: 15px;"></ul>
    </div>
    
    <!-- Administraci贸n de Kinesi贸logas -->
    <div class="card" style="margin-top: 20px; border: 2px solid #ff9800;">
      <h3 style="color: #ff9800;"> Administraci贸n de Kinesi贸logas</h3>
      <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
        Gestione las cuentas de kinesi贸logas registradas en el sistema. Solo visible para kinesi贸logas autenticadas.
      </p>
      <button onclick="cargarKinesiologas()" class="btn" style="background-color: #ff9800;">Cargar Lista de Kinesi贸logas</button>
      <div id="listaKinesiologas" style="margin-top: 15px;"></div>
    </div>
  </div>

  <div id="pacientePanel" style="display:none;">
    <button id="volverPaciente" onclick="volverAlInicio()">Volver</button>
    <h2>Panel Paciente</h2>
    <p style="color: #666; margin-bottom: 20px;">Bienvenido/a, <strong id="nombrePaciente"></strong>. Aqu铆 puedes ver los ejercicios que tu kinesi贸loga te ha asignado.</p>
    <h3>Ejercicios asignados</h3>
    <ul id="listaEjercicios"></ul>
  </div>

  <!-- Formulario oculto para editar ejercicio (se muestra din谩micamente) -->
  <div id="editarEjercicioForm" style="display:none;">
    <h3>Editar ejercicio</h3>
    <input type="text" id="editNombreEjercicio" placeholder="Nombre del ejercicio" />
    <input type="text" id="editModoEjecucion" placeholder="Modo de ejecuci贸n" />
    <input type="number" id="editRepeticiones" placeholder="Repeticiones" min="1" />
    <input type="number" id="editSeries" placeholder="Series" min="1" />
    <button onclick="guardarEdicionEjercicio()">Guardar</button>
    <button onclick="cancelarEdicion()">Cancelar</button>
  </div>

  <!-- Formulario oculto para editar plantilla (se muestra din谩micamente) -->
  <div id="editarPlantillaForm" style="display:none;">
    <h3>Editar plantilla</h3>
    <input type="text" id="editPlantillaNombre" placeholder="Nombre del ejercicio" />
    <input type="text" id="editPlantillaModo" placeholder="Modo de ejecuci贸n" />
    <input type="number" id="editPlantillaRepeticiones" placeholder="Repeticiones" min="1" />
    <input type="number" id="editPlantillaSeries" placeholder="Series" min="1" />
    <button onclick="guardarEdicionPlantilla()">Guardar</button>
    <button onclick="cancelarEdicion()">Cancelar</button>
  </div>

  <script src="{{ url_for('static', filename='scrip.js') }}"></script>
</body>
</html>